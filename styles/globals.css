@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-size: 14px;
    color: #4f4f4f;
    @apply leading-6;
    @apply antialiased;
    @apply pt-0;
  }

  html,
  body,
  #__next {
    height: 100%;
  }

  a {
    color: #4a84b2;
  }

  ins {
    background-color: #e6ffec;
  }

  del {
    background-color: #ffebe9;
  }

  .map-link {
    display: inline-block;
    background: #f5f5f5;
    padding: 1px 4px;
    border-radius: 3px;
    color: #333;
    text-decoration: none;
  }

  .map-link::before {
    content: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="#c2410d" viewBox="0 0 576 512" class="icon"><path d="M408 119.1C408 128.6 406.2 138.3 402.1 148.6C397.3 166.1 387.4 187.5 375.6 207.8L375.5 207.1C372.4 213.3 369.2 218.7 365.9 224C361.5 231 356.9 237.1 352.4 244.8L352 245.4C333.9 272.3 315.3 296.4 302.8 311.1C295.1 321.6 280.9 321.6 273.2 311.1C260.7 296.4 242.1 272.3 224 245.4C205.6 218.1 187.7 187.9 177.3 160.9C176.5 158.8 175.7 156.7 174.1 154.6C170.6 142 168 130.3 168 120C168 115.3 168.3 110.7 168.8 106.2C175.6 46.44 226.4 0 288 0C354.3 0 408 53.73 408 120V119.1zM288 151.1C310.1 151.1 328 134.1 328 111.1C328 89.91 310.1 71.1 288 71.1C265.9 71.1 248 89.91 248 111.1C248 134.1 265.9 151.1 288 151.1zM352 300.6C365.5 282.4 380.8 260.7 394.7 238.2C396.5 235.3 398.2 232.4 400 229.5V453.7L528 407.2V154.3L419.3 193.8C421.5 189.1 423.6 184.5 425.6 179.8C431.5 165.8 436.6 150.7 438.8 135.6L543.8 97.44C551.2 94.77 559.4 95.85 565.8 100.3C572.2 104.8 576 112.2 576 119.1V424C576 434.1 569.7 443.1 560.2 446.6L384.2 510.6C378.9 512.5 373.1 512.5 367.8 510.6L200 449.5L32.2 510.6C24.84 513.2 16.64 512.2 10.23 507.7C3.819 503.2 0 495.8 0 488V183.1C0 173.9 6.314 164.9 15.8 161.4L136 117.7C136 118.5 136 119.2 136 119.1C136 135.1 139.7 150.7 144.9 165.6L48 200.8V453.7L176 407.2V229.5C177.8 232.4 179.5 235.3 181.3 238.2C195.2 260.7 210.5 282.4 224 300.6V407.2L352 453.7V300.6z" /></svg>');
    margin-right: 4px;
  }

  input.form-input,
  textarea.form-input {
    @apply w-full;
    @apply mt-1;
    @apply block;
    @apply rounded-md;
    @apply border-gray-200;
    @apply shadow-sm;
    @apply focus:border-indigo-300;
    @apply focus:ring;
    @apply focus:ring-indigo-200;
    @apply focus:ring-opacity-50;
    @apply text-sm;
    @apply font-normal;
  }

  input.basic-input,
  textarea.basic-input {
    @apply w-full;
    @apply mt-1;
    @apply block;
    @apply rounded-md;
    @apply border-gray-200;
    @apply focus:border-indigo-200;
    @apply shadow-sm;
    @apply text-sm;
    @apply font-normal;
    box-shadow: none !important;
  }

  [type="checkbox"]:focus:not(:focus-visible),
  [type="radio"]:focus:not(:focus-visible) {
    @apply focus:ring-0 focus:ring-offset-0;
  }

  [type="checkbox"]:focus-visible,
  [type="radio"]:focus-visible {
    @apply ring-2 ring-offset-2;
  }

  .utility-page .form-input {
    @apply text-lg;
  }

  .form-text-lg .form-input {
    @apply text-base;
  }

  .form-input.input-error {
    border-color: #e90000ad;
  }
}

.formatted p:not(:last-of-type) {
  @apply mb-4;
}

.formatted h3 {
  @apply mb-1.5;
  @apply text-lg;
  @apply font-bold;
}

.formatted h2 {
  @apply mb-1.5;
  @apply text-2xl;
  @apply font-bold;
}

.formatted ul {
  @apply list-disc;
  @apply mb-4;
  @apply ml-6;
}

.formatted li {
  @apply mb-0.5;
}

.formatted cite {
  font-size: 0.75em;
  @apply not-italic;
  @apply -mt-4;
  @apply block;
}

.formatted p {
  break-inside: avoid;
}

.formatted h3 {
  break-after: avoid;
}

.formatted br + cite {
  @apply mt-0;
}

.formatted .two-columns {
  @apply md:grid;
  @apply grid-cols-2;
  @apply gap-12;
}

.formatted .three-columns {
  @apply md:grid;
  @apply grid-cols-3;
  @apply gap-12;
}

.formatted .four-columns {
  @apply md:grid;
  @apply grid-cols-4;
  @apply gap-12;
}

.formatted a[href^="/"], .formatted a[href^=".."], .formatted a[href^="https://birdinghotspots.org/"]
{
  font-weight: bold;
}

svg.icon {
  width: 1em;
  height: 1em;
  @apply fill-current;
  @apply inline;
}

.bg-puffin {
  background: linear-gradient(
      to right,
      rgb(255, 255, 255),
      rgba(255, 255, 255, 0.7),
      rgba(255, 255, 255, 0.1),
      rgba(255, 255, 255, 0)
    ),
    url("/bunting.jpg");
  background-size: cover;
  background-position-y: center;
  background-position-x: center;
  background-repeat: no-repeat;
}

@media screen and (max-width: 640px) {
  .bg-puffin {
    background: linear-gradient(to bottom, #f2f6ec, #c4d4a9);
  }
}

.header-gradient {
  background-image: linear-gradient(90deg, var(--color) 69%, transparent 100%);
}

.breadcrumb-gradient {
  background-image: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 69%, transparent 100%);
}

.tox-notification {
  display: none !important; /* hide "This domain is not registered with Tiny Cloud" notice */
}

.tox-statusbar {
  display: none !important;
}

.tox-tinymce {
  @apply border-gray-200 !important;
  @apply shadow-sm !important;
  border-width: 1px !important;
}

.tox-tinymce-aux {
  z-index: 10000 !important;
}

.uppy-DragDrop-container {
  @apply border-gray-300/90 !important;
}

/*react-photoswipe-gallery*/
.pswp__default-caption {
  left: 50% !important;
  right: unset !important;
  bottom: 10px !important;
  transform: translateX(-50%);
  line-height: 1.3;
  background: rgba(0, 0, 0, 0.4);
  color: #fff;
  padding: 10px 20px !important;
  position: absolute;
  white-space: normal;
  position: absolute;
}

.pswp__default-caption:empty {
  display: none;
}

.pswp__button--download.hidden {
  display: none !important;
}

/*Mapbox*/
.mapboxAddMarkerMode .mapboxgl-canvas-container {
  @apply cursor-crosshair;
}

.mapboxgl-popup-close-button {
  display: none;
}

.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon,
.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon {
  background-size: 80%;
  opacity: 0.8;
}

.mapboxgl-popup-content {
  overflow: hidden;
}

.marker-link:focus-visible {
  @apply outline-none;
}

.popup-img {
  width: calc(100% + 20px);
  max-width: unset;
  margin-left: -10px;
  margin-right: -10px;
  margin-top: -10px;
  margin-bottom: 8px;
}

img.marker {
  width: 21px;
  height: 28px;
  margin-top: -14px;
  cursor: pointer;
}

img.marker-sm {
  width: 15px;
  height: 20px;
  margin-top: -10px;
  cursor: pointer;
}

.explore-map .mapboxgl-popup-anchor-top {
  top: 28px;
}

.explore-map .mapboxgl-popup-anchor-bottom {
  top: -22px;
}

.hide-default .default-marker {
  opacity: 0;
}

.mapboxgl-ctrl-compass {
  display: none !important;
}

.mapboxgl-popup-anchor-top {
  margin-top: -25px;
}

.mapboxgl-popup-anchor-left {
  margin-left: -15px;
  margin-top: -15px;
}

.mapboxgl-popup-anchor-right {
  margin-right: -25px;
  margin-top: -15px;
}

/*Animations*/
@keyframes zoom {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  80% {
    transform: scale(1.02);
    opacity: 1;
  }
  100% {
    transform: scale(1);
  }
}

.zoom-in {
  transform-origin: center;
  animation-name: zoom;
  animation-duration: 300ms;
  animation-timing-function: ease;
}

/*Google Places*/

.pac-container {
  border-radius: 8px;
  border-top: none;
  margin-top: 4px;
  width: 50%;
  padding: 5px;
}

.pac-item:first-of-type {
  border-top: none;
}

/*SVG Maps*/

.state-map {
  width: 100%;
  @apply mx-auto lg:mr-0;
}

.state-map path,
.state-map a {
  cursor: pointer;
}

.state-map path {
  @apply fill-slate-200;
}

.state-map a:hover path {
  opacity: 0.8;
}

.state-map text {
  font-size: 9px;
  font-weight: 500;
}

.hover-map a text {
  display: none;
}

.teal path {
  fill: #46a695;
}

.teal text,
.purple text,
.green text,
.red text,
.orange text {
  fill: white;
}

.green path {
  fill: #92ad39;
}

.yellow path {
  fill: #efd75e;
}

.purple path {
  fill: #8d4cb6;
}

.orange path {
  fill: #e57701;
}

.red path {
  fill: #ce0d03;
}

/*NProgress bar*/
#nprogress {
  z-index: 100000;
  position: absolute;
}

#nprogress .spinner {
  top: 5px !important;
  right: 5px !important;
  @apply !block sm:!hidden;
}
